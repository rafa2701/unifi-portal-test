import{w as m,g as h,o as y,c as E,t as f,u as b,r as v}from"./unifi-vendor-@vue-BH5BUbdD.js";import{c as O}from"./unifi-vendor-focus-trap-DefuGMzh.js";function T(e){return h()?(y(e),!0):!1}const W=typeof window!="undefined"&&typeof document!="undefined";typeof WorkerGlobalScope!="undefined"&&globalThis instanceof WorkerGlobalScope;const g=Object.prototype.toString,$=e=>g.call(e)==="[object Object]";function d(e){return Array.isArray(e)?e:[e]}function j(e,n,t){return m(e,n,{...t,immediate:!0})}const k=W?window:void 0;function G(e){var n;const t=f(e);return(n=t==null?void 0:t.$el)!=null?n:t}function V(...e){const n=[],t=()=>{n.forEach(o=>o()),n.length=0},p=(o,u,a,c)=>(o.addEventListener(u,a,c),()=>o.removeEventListener(u,a,c)),i=E(()=>{const o=d(f(e[0])).filter(u=>u!=null);return o.every(u=>typeof u!="string")?o:void 0}),l=j(()=>{var o,u;return[(u=(o=i.value)==null?void 0:o.map(a=>G(a)))!=null?u:[k].filter(a=>a!=null),d(f(i.value?e[1]:e[0])),d(b(i.value?e[2]:e[1])),f(i.value?e[3]:e[2])]},([o,u,a,c])=>{if(t(),!(o!=null&&o.length)||!(u!=null&&u.length)||!(a!=null&&a.length))return;const r=$(c)?{...c}:c;n.push(...o.flatMap(S=>u.flatMap(A=>a.map(D=>p(S,A,D,r)))))},{flush:"post"}),s=()=>{l(),t()};return T(t),s}function C(e){return h()?(y(e),!0):!1}function F(e){return typeof e=="function"?e():b(e)}typeof WorkerGlobalScope!="undefined"&&globalThis instanceof WorkerGlobalScope;function L(e){var n;const t=F(e);return(n=t==null?void 0:t.$el)!=null?n:t}function x(e,n={}){let t;const{immediate:p,...i}=n,l=v(!1),s=v(!1),o=r=>t&&t.activate(r),u=r=>t&&t.deactivate(r),a=()=>{t&&(t.pause(),s.value=!0)},c=()=>{t&&(t.unpause(),s.value=!1)};return m(()=>L(e),r=>{r&&(t=O(r,{...i,onActivate(){l.value=!0,n.onActivate&&n.onActivate()},onDeactivate(){l.value=!1,n.onDeactivate&&n.onDeactivate()}}),p&&o())},{flush:"post"}),C(()=>u()),{hasFocus:l,isPaused:s,activate:o,deactivate:u,pause:a,unpause:c}}export{V as a,x as u};
