import{_ as k}from"./main-DE9f1_IK.js";import{X as S,d as V,U as p,D as O,e as w,f as q,P as x,g as C,h as N}from"./unifi-vendor-lucide-vue-next-KuQULOd8.js";import{D as o,B as r,N as y,y as z,X as T,K as j,J as g,z as n,r as h,c as B,w as f,s as D,n as F,v as E,Y as L,V as u,_ as v,$ as _}from"./unifi-vendor-@vue-BH5BUbdD.js";import{T as A}from"./unifi-vendor-tom-select-Dbt2A7YI.js";const P={name:"BaseButton",components:{ArrowRight:N,ArrowLeft:C,Plus:x,Trash:q,Edit:w,Download:O,Upload:p,Check:V,X:S},props:{type:{type:String,default:"button"},variant:{type:String,default:"primary",validator:t=>["primary","secondary","outline","text","danger","success"].includes(t)},size:{type:String,default:"md",validator:t=>["sm","md","lg"].includes(t)},icon:{type:[String,Object],default:null},iconOnly:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["click"]},R=["type","disabled"],U={key:0,class:"button-spinner"},G=["src"],M={key:1,class:"button-icon"},X={key:2,class:"button-content"};function I(t,i,e,a,b,m){return n(),o("button",{type:e.type,class:g(["base-button",`button-${e.variant}`,`button-${e.size}`,{"button-loading":e.loading,"button-icon-only":e.iconOnly,"button-with-icon":!!e.icon&&!e.iconOnly}]),disabled:e.disabled||e.loading,onClick:i[0]||(i[0]=s=>t.$emit("click",s))},[e.loading?(n(),o("span",U,[y("img",{src:t.$img("icons/ajax_spinner.svg"),alt:"Loading"},null,8,G)])):e.icon?(n(),o("span",M,[(n(),z(T(e.icon)))])):r("",!0),e.iconOnly?r("",!0):(n(),o("span",X,[j(t.$slots,"default")]))],10,R)}const se=k(P,[["render",I]]),J={name:"BaseSelect",props:{id:{type:String,default(){return`select-${Math.random().toString(36).substr(2,9)}`}},modelValue:{type:[String,Number,Object],default:null},options:{type:Array,required:!0,validator:t=>t.every(i=>"value"in i&&"label"in i)},groupBy:{type:[String,Function],default:null},label:{type:String,default:""},description:{type:String,default:""},placeholder:{type:String,default:"Select an option"},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},error:{type:String,default:""}},emits:["update:modelValue","change","clear"],setup(t,{emit:i}){const e=h(null),a=h(null),b=B(()=>!!t.groupBy),m=B(()=>{if(!t.groupBy)return t.options;const l={};return t.options.forEach(d=>{const c=typeof t.groupBy=="function"?t.groupBy(d):d[t.groupBy];l[c]||(l[c]={label:c,options:[]}),l[c].options.push(d)}),Object.values(l)}),s=()=>{a.value&&a.value.destroy();const l={valueField:"value",labelField:"label",searchField:["label"],options:t.options,items:t.modelValue?[t.modelValue]:[],placeholder:t.placeholder,disabled:t.disabled,persist:!1,create:!1,allowEmptyOption:!0,plugins:t.clearable?["clear_button"]:[],render:{option:d=>`<div class="option-item">
              <span class="option-label">${d.label}</span>
            </div>`,item:d=>`<div class="item-content">${d.label}</div>`,no_results:()=>'<div class="no-results">No results found</div>',loading:()=>`<div class="loading-spinner">
              <img src="${t.$img("icons/ajax_spinner.svg")}" alt="Loading" />
            </div>`},onChange:d=>{i("update:modelValue",d),i("change",d)},onClear:()=>{i("update:modelValue",null),i("clear")}};t.searchable||(l.controlInput='<input type="text" autocomplete="off" size="1" />'),a.value=new A(e.value,l)};return f(()=>t.options,()=>{a.value&&(a.value.clearOptions(),a.value.addOptions(t.options),t.modelValue&&a.value.setValue(t.modelValue))},{deep:!0}),f(()=>t.modelValue,l=>{a.value&&a.value.getValue()!==l&&a.value.setValue(l||"")}),f(()=>t.loading,l=>{a.value&&(a.value.loading=l)}),f(()=>t.disabled,l=>{a.value&&(l?a.value.disable():a.value.enable())}),D(()=>{F(()=>{s()})}),E(()=>{a.value&&a.value.destroy()}),{selectRef:e,isGrouped:b,processedOptions:m}}},K=["for"],Y={key:0,class:"required-mark"},H=["id","value","disabled","required","placeholder"],Q={value:""},W=["label"],Z=["value"],$=["value"],ee={key:1,class:"select-description"},te={key:2,class:"select-error"};function ae(t,i,e,a,b,m){return n(),o("div",{class:g(["base-select",{"is-disabled":e.disabled}])},[e.label?(n(),o("label",{key:0,class:"select-label",for:e.id},[L(u(e.label)+" ",1),e.required?(n(),o("span",Y,"*")):r("",!0)],8,K)):r("",!0),y("div",{class:g(["select-wrapper",{"has-error":e.error}])},[y("select",{id:e.id,ref:"selectRef",value:e.modelValue,disabled:e.disabled,required:e.required,placeholder:e.placeholder},[y("option",Q,u(e.placeholder),1),a.isGrouped?(n(!0),o(v,{key:0},_(a.processedOptions,s=>(n(),o("optgroup",{key:s.label,label:s.label},[(n(!0),o(v,null,_(s.options,l=>(n(),o("option",{key:l.value,value:l.value},u(l.label),9,Z))),128))],8,W))),128)):(n(!0),o(v,{key:1},_(e.options,s=>(n(),o("option",{key:s.value,value:s.value},u(s.label),9,$))),128))],8,H)],2),e.description?(n(),o("div",ee,u(e.description),1)):r("",!0),e.error?(n(),o("div",te,u(e.error),1)):r("",!0)],2)}const de=k(J,[["render",ae]]);export{de as _,se as a};
